{"ast":null,"code":"var _jsxFileName = \"/Users/allefdouglasdev/Documents/Workspace/casanova/client/src/pages/items/index.tsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { CheckItem, Header, Modal } from \"components\";\nimport { useEffect, useState } from \"react\";\nimport { BiBed } from \"react-icons/bi\";\nimport { MdKitchen } from \"react-icons/md\";\nimport { getItems, setItem } from \"services/item.service\";\nimport * as S from \"./styles\";\nexport default function Items() {\n  const {\n    0: items,\n    1: setItems\n  } = useState([]);\n  const {\n    0: modalOpen,\n    1: setModalOpen\n  } = useState(false);\n  const {\n    0: modalTitle,\n    1: setModalTitle\n  } = useState(\"\");\n  const {\n    0: currentItem,\n    1: setCurrentItem\n  } = useState();\n  const kitchenItems = items.filter(item => item.category === \"cozinha\");\n  const bathroomItems = items.filter(item => item.category === \"banheiro\");\n  const bedroomItems = items.filter(item => item.category === \"quarto\");\n  const roomItems = items.filter(item => item.category === \"sala\");\n  const othersItems = items.filter(item => item.category === \"outros\");\n\n  function handleModalOpen() {\n    setModalOpen(true);\n  }\n\n  function handleModalClose() {\n    setModalOpen(false);\n  }\n\n  function handleAddOwner(item) {\n    setModalTitle(item.name);\n    setCurrentItem(item);\n    handleModalOpen();\n  }\n\n  function handleAnonymous() {\n    handleModalClose();\n    updateOwner(\"Anônimo\");\n  }\n\n  function handleMyName(myName) {\n    if (myName.length < 2) {\n      return alert('Informe seu nome ou clique em \"Anônimo\"');\n    }\n\n    handleModalClose();\n    updateOwner(myName);\n  }\n\n  function updateOwner(ownerName) {\n    if (!currentItem) return;\n\n    if (ownerName.length < 2) {\n      return alert('Informe seu nome ou clique em \"Anônimo\"');\n    }\n\n    const newItem = _objectSpread(_objectSpread({}, currentItem), {}, {\n      owner: ownerName\n    });\n\n    setItem(newItem);\n  }\n\n  useEffect(() => {\n    getItems(snapshot => {\n      if (!snapshot.val()) return;\n      const itemList = [];\n      Object.keys(snapshot.val()).forEach(key => {\n        const currentItem = snapshot.val()[key];\n        itemList.push({\n          id: key,\n          name: currentItem.name,\n          owner: currentItem.owner,\n          category: currentItem.category\n        });\n      });\n      setItems(itemList);\n    });\n  }, []);\n  return __jsx(S.Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 5\n    }\n  }, __jsx(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }), __jsx(Modal, {\n    open: modalOpen,\n    onClose: handleModalClose,\n    title: modalTitle,\n    onAnonymous: handleAnonymous,\n    onMyName: handleMyName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }\n  }), __jsx(S.ListsWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }\n  }, __jsx(S.ItemList, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }, __jsx(S.IconWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 11\n    }\n  }, __jsx(MdKitchen, {\n    size: 90,\n    color: \"#327FA6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }), __jsx(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }, \"Cozinha\")), __jsx(S.Separator, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 11\n    }\n  }), kitchenItems.map(item => __jsx(CheckItem, {\n    key: item.id,\n    item: item,\n    onAddOwner: () => handleAddOwner(item),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }))), __jsx(S.ItemList, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }\n  }, __jsx(S.IconWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 11\n    }\n  }, __jsx(BiBed, {\n    size: 90,\n    color: \"#327FA6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }\n  }), __jsx(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }\n  }, \"Quarto\")), __jsx(S.Separator, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 11\n    }\n  }), bedroomItems.map(item => __jsx(CheckItem, {\n    key: item.id,\n    item: item,\n    onAddOwner: () => handleAddOwner(item),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }\n  }))), __jsx(S.ItemList, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 9\n    }\n  }, __jsx(S.IconWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 11\n    }\n  }, __jsx(BiBed, {\n    size: 90,\n    color: \"#327FA6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 13\n    }\n  }), __jsx(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }\n  }, \"Banheiro\")), __jsx(S.Separator, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 11\n    }\n  }), bathroomItems.map(item => __jsx(CheckItem, {\n    key: item.id,\n    item: item,\n    onAddOwner: () => handleAddOwner(item),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }\n  }))), __jsx(S.ItemList, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 9\n    }\n  }, __jsx(S.IconWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 11\n    }\n  }, __jsx(BiBed, {\n    size: 90,\n    color: \"#327FA6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 13\n    }\n  }), __jsx(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 13\n    }\n  }, \"Sala\")), __jsx(S.Separator, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 11\n    }\n  }), roomItems.map(item => __jsx(CheckItem, {\n    key: item.id,\n    item: item,\n    onAddOwner: () => handleAddOwner(item),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }\n  }))), __jsx(S.ItemList, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 9\n    }\n  }, __jsx(S.IconWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 11\n    }\n  }, __jsx(BiBed, {\n    size: 90,\n    color: \"#327FA6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 13\n    }\n  }), __jsx(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 13\n    }\n  }, \"Outros\")), __jsx(S.Separator, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 11\n    }\n  }), othersItems.map(item => __jsx(CheckItem, {\n    key: item.id,\n    item: item,\n    onAddOwner: () => handleAddOwner(item),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 13\n    }\n  })))));\n}","map":{"version":3,"sources":["/Users/allefdouglasdev/Documents/Workspace/casanova/client/src/pages/items/index.tsx"],"names":["CheckItem","Header","Modal","useEffect","useState","BiBed","MdKitchen","getItems","setItem","S","Items","items","setItems","modalOpen","setModalOpen","modalTitle","setModalTitle","currentItem","setCurrentItem","kitchenItems","filter","item","category","bathroomItems","bedroomItems","roomItems","othersItems","handleModalOpen","handleModalClose","handleAddOwner","name","handleAnonymous","updateOwner","handleMyName","myName","length","alert","ownerName","newItem","owner","snapshot","val","itemList","Object","keys","forEach","key","push","id","map"],"mappings":"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","sourcesContent":["import { CheckItem, Header, Modal } from \"components\"\nimport { useEffect, useState } from \"react\"\nimport { BiBed } from \"react-icons/bi\"\nimport { MdKitchen } from \"react-icons/md\"\nimport { getItems, setItem } from \"services/item.service\"\nimport * as S from \"./styles\"\nimport { Item } from \"core/types\"\n\nexport default function Items() {\n  const [items, setItems] = useState<Item[]>([])\n  const [modalOpen, setModalOpen] = useState(false)\n  const [modalTitle, setModalTitle] = useState(\"\")\n  const [currentItem, setCurrentItem] = useState<Item>()\n\n  const kitchenItems = items.filter((item) => item.category === \"cozinha\")\n  const bathroomItems = items.filter((item) => item.category === \"banheiro\")\n  const bedroomItems = items.filter((item) => item.category === \"quarto\")\n  const roomItems = items.filter((item) => item.category === \"sala\")\n  const othersItems = items.filter((item) => item.category === \"outros\")\n\n  function handleModalOpen() {\n    setModalOpen(true)\n  }\n\n  function handleModalClose() {\n    setModalOpen(false)\n  }\n\n  function handleAddOwner(item: Item) {\n    setModalTitle(item.name)\n    setCurrentItem(item)\n    handleModalOpen()\n  }\n\n  function handleAnonymous() {\n    handleModalClose()\n    updateOwner(\"Anônimo\")\n  }\n\n  function handleMyName(myName: string) {\n    if (myName.length < 2) {\n      return alert('Informe seu nome ou clique em \"Anônimo\"')\n    }\n\n    handleModalClose()\n    updateOwner(myName)\n  }\n\n  function updateOwner(ownerName: string) {\n    if (!currentItem) return\n\n    if (ownerName.length < 2) {\n      return alert('Informe seu nome ou clique em \"Anônimo\"')\n    }\n\n    const newItem: Item = {\n      ...currentItem,\n      owner: ownerName,\n    }\n\n    setItem(newItem)\n  }\n\n  useEffect(() => {\n    getItems((snapshot) => {\n      if (!snapshot.val()) return\n\n      const itemList: Item[] = []\n\n      Object.keys(snapshot.val()).forEach((key) => {\n        const currentItem = snapshot.val()[key] as Item\n\n        itemList.push({\n          id: key,\n          name: currentItem.name,\n          owner: currentItem.owner,\n          category: currentItem.category,\n        })\n      })\n\n      setItems(itemList)\n    })\n  }, [])\n\n  return (\n    <S.Container>\n      <Header />\n\n      <Modal\n        open={modalOpen}\n        onClose={handleModalClose}\n        title={modalTitle}\n        onAnonymous={handleAnonymous}\n        onMyName={handleMyName}\n      />\n\n      <S.ListsWrapper>\n        <S.ItemList>\n          <S.IconWrapper>\n            <MdKitchen size={90} color=\"#327FA6\" />\n            <h1>Cozinha</h1>\n          </S.IconWrapper>\n\n          <S.Separator />\n\n          {kitchenItems.map((item) => (\n            <CheckItem\n              key={item.id}\n              item={item}\n              onAddOwner={() => handleAddOwner(item)}\n            />\n          ))}\n        </S.ItemList>\n\n        <S.ItemList>\n          <S.IconWrapper>\n            <BiBed size={90} color=\"#327FA6\" />\n            <h1>Quarto</h1>\n          </S.IconWrapper>\n\n          <S.Separator />\n\n          {bedroomItems.map((item) => (\n            <CheckItem\n              key={item.id}\n              item={item}\n              onAddOwner={() => handleAddOwner(item)}\n            />\n          ))}\n        </S.ItemList>\n\n        <S.ItemList>\n          <S.IconWrapper>\n            <BiBed size={90} color=\"#327FA6\" />\n            <h1>Banheiro</h1>\n          </S.IconWrapper>\n\n          <S.Separator />\n\n          {bathroomItems.map((item) => (\n            <CheckItem\n              key={item.id}\n              item={item}\n              onAddOwner={() => handleAddOwner(item)}\n            />\n          ))}\n        </S.ItemList>\n\n        <S.ItemList>\n          <S.IconWrapper>\n            <BiBed size={90} color=\"#327FA6\" />\n            <h1>Sala</h1>\n          </S.IconWrapper>\n\n          <S.Separator />\n\n          {roomItems.map((item) => (\n            <CheckItem\n              key={item.id}\n              item={item}\n              onAddOwner={() => handleAddOwner(item)}\n            />\n          ))}\n        </S.ItemList>\n\n        <S.ItemList>\n          <S.IconWrapper>\n            <BiBed size={90} color=\"#327FA6\" />\n            <h1>Outros</h1>\n          </S.IconWrapper>\n\n          <S.Separator />\n\n          {othersItems.map((item) => (\n            <CheckItem\n              key={item.id}\n              item={item}\n              onAddOwner={() => handleAddOwner(item)}\n            />\n          ))}\n        </S.ItemList>\n      </S.ListsWrapper>\n    </S.Container>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}